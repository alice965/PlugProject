<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="search">

	<!-- 네비게이션 상단에서 제목만 검색할 경우.......... %를 앞에도 붙이고 싶은데 터짐 -->
	<select id="listTitle" resultType="java.util.HashMap">
		select * from booth where title like CONCAT(#{search_value},'%')
	</select>
	
	<!-- 옵션 패널에서 검색한 경우 -->
	<select id="listOption" resultType="java.util.HashMap">
		select * from booth 
		<where>
			<if test="title!=null">
				title like #{title}
			</if>
			<if test="dj!=null">
				AND dj like#{dj}
			</if>
			<if test ="genre!=null">
				<foreach item="item" index="index" collection="list"
     					 open="(" separator="," close=")">
       					 #{item}
 				 </foreach>
				AND genre like #{genre}
			</if>
		
		</where>
	</select>
	
</mapper>











